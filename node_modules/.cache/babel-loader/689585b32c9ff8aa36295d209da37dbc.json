{"ast":null,"code":"import _slicedToArray from \"/Users/Brave/Build2/Front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Brave/Build2/Front-end/src/components/SearchForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport AxiosWithAuth from '../utilities/AxiosWithAuth';\nimport UserCard from './UserCard';\nexport default function SearchForm({\n  searchTerms,\n  handleChange\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        favUser = _useState2[0],\n        setFavUser = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userTerms = _useState4[0],\n        setUserTerm = _useState4[1];\n\n  const _useState5 = useState(favUser),\n        _useState6 = _slicedToArray(_useState5, 2),\n        userResults = _useState6[0],\n        setUserResults = _useState6[1];\n\n  const formChange = event => {\n    setUserTerm(event.target.value);\n  };\n\n  useEffect(() => {\n    const newUsers = () => {\n      AxiosWithAuth().get('https://african-marketplace-backend.herokuapp.com/api/users').then(res => {\n        console.log(res.data);\n        setFavUser(res.data);\n      }).catch(err => {\n        console.error('Error', err);\n      });\n    };\n\n    console.log(favUser);\n    const people = favUser.filter(e => {\n      return e.username.toLowerCase().includes(userTerms.toLowerCase());\n    });\n    newUsers();\n    setUserResults(people);\n  }, [userTerms]);\n  return React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, userResults.map(e => React.createElement(UserCard, {\n    id: e.id,\n    username: e.username,\n    owner_firstname: e.fname,\n    owner_lastname: e.lname,\n    business_name: e.business_name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  })), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"name\",\n    type: \"text\",\n    name: \"textfield\",\n    placeholder: \"search\",\n    onChange: (handleChange, formChange),\n    value: searchTerms,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/Brave/Build2/Front-end/src/components/SearchForm.js"],"names":["React","useState","useEffect","axios","AxiosWithAuth","UserCard","SearchForm","searchTerms","handleChange","favUser","setFavUser","userTerms","setUserTerm","userResults","setUserResults","formChange","event","target","value","newUsers","get","then","res","console","log","data","catch","err","error","people","filter","e","username","toLowerCase","includes","map","id","fname","lname","business_name"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,eAAe,SAASC,UAAT,CAAoB;AAACC,EAAAA,WAAD;AAAcC,EAAAA;AAAd,CAApB,EAAgD;AAAA,oBAE7BP,QAAQ,CAAC,EAAD,CAFqB;AAAA;AAAA,QAEpDQ,OAFoD;AAAA,QAE3CC,UAF2C;;AAAA,qBAG1BT,QAAQ,CAAC,EAAD,CAHkB;AAAA;AAAA,QAGpDU,SAHoD;AAAA,QAGzCC,WAHyC;;AAAA,qBAIrBX,QAAQ,CAACQ,OAAD,CAJa;AAAA;AAAA,QAIpDI,WAJoD;AAAA,QAIvCC,cAJuC;;AAM3D,QAAMC,UAAU,GAAGC,KAAK,IAAI;AACxBJ,IAAAA,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACH,GAFD;;AAGAhB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMiB,QAAQ,GAAG,MAAK;AAClBf,MAAAA,aAAa,GACRgB,GADL,CACS,6DADT,EAEKC,IAFL,CAEUC,GAAG,IAAG;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAf,QAAAA,UAAU,CAACY,GAAG,CAACG,IAAL,CAAV;AACH,OALL,EAMKC,KANL,CAMWC,GAAG,IAAG;AACTJ,QAAAA,OAAO,CAACK,KAAR,CAAc,OAAd,EAAuBD,GAAvB;AACH,OARL;AASH,KAVD;;AAWAJ,IAAAA,OAAO,CAACC,GAAR,CAAYf,OAAZ;AACA,UAAMoB,MAAM,GAAGpB,OAAO,CAACqB,MAAR,CAAeC,CAAC,IAAI;AAC/B,aAAOA,CAAC,CAACC,QAAF,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCvB,SAAS,CAACsB,WAAV,EAAlC,CAAP;AACH,KAFc,CAAf;AAGAd,IAAAA,QAAQ;AACRL,IAAAA,cAAc,CAACe,MAAD,CAAd;AAEH,GAnBQ,EAmBN,CAAClB,SAAD,CAnBM,CAAT;AAqBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKE,WAAW,CAACsB,GAAZ,CAAgBJ,CAAC,IACd,oBAAC,QAAD;AAAW,IAAA,EAAE,EAAEA,CAAC,CAACK,EAAjB;AAAqB,IAAA,QAAQ,EAAEL,CAAC,CAACC,QAAjC;AAA2C,IAAA,eAAe,EAAED,CAAC,CAACM,KAA9D;AAAqE,IAAA,cAAc,EAAEN,CAAC,CAACO,KAAvF;AAA8F,IAAA,aAAa,EAAEP,CAAC,CAACQ,aAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AACI,IAAA,EAAE,EAAC,MADP;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,IAAI,EAAC,WAHT;AAII,IAAA,WAAW,EAAC,QAJhB;AAKI,IAAA,QAAQ,GAAE/B,YAAY,EAAEO,UAAhB,CALZ;AAMI,IAAA,KAAK,EAAER,WANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,CADJ;AAqBH","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport AxiosWithAuth from '../utilities/AxiosWithAuth'\nimport UserCard from './UserCard';\n\nexport default function SearchForm({searchTerms, handleChange}){\n\n    const [favUser, setFavUser] = useState([]);\n    const [userTerms, setUserTerm] = useState('');\n    const [userResults, setUserResults] = useState(favUser)\n\n    const formChange = event => {\n        setUserTerm(event.target.value);\n    }\n    useEffect(() => {\n        const newUsers = () =>{\n            AxiosWithAuth()\n                .get('https://african-marketplace-backend.herokuapp.com/api/users')    \n                .then(res =>{\n                    console.log(res.data);\n                    setFavUser(res.data);\n                })\n                .catch(err =>{\n                    console.error('Error', err)\n                });\n        };\n        console.log(favUser)\n        const people = favUser.filter(e => {\n            return e.username.toLowerCase().includes(userTerms.toLowerCase());\n        });\n        newUsers();\n        setUserResults(people);\n        \n    }, [userTerms])\n\n    return(\n        <section>\n            {userResults.map(e => (\n                <UserCard  id={e.id} username={e.username} owner_firstname={e.fname} owner_lastname={e.lname} business_name={e.business_name} />\n            ))}\n\n            <form>\n        \n                <input\n                    id=\"name\"\n                    type=\"text\"\n                    name=\"textfield\"\n                    placeholder=\"search\"\n                    onChange={handleChange, formChange}\n                    value={searchTerms}\n                    />\n            </form>\n        \n        </section>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}